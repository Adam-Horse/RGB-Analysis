@Override
            public void mousePressed(MouseEvent e) {
                clickPoint = e.getPoint();
                selection = null;
            }

            @Override
            public void mouseDragged(MouseEvent e) {
                Point dragPoint = e.getPoint();
                int x = Math.min(clickPoint.x, dragPoint.x);
                int y = Math.min(clickPoint.y, dragPoint.y);

                int width = Math.max(clickPoint.x, dragPoint.x) - x;
                int height = Math.max(clickPoint.y, dragPoint.y) - y;

                if (selection == null) {
                    selection = new Rectangle(x, y, width, height);
                } else {
                    selection.setBounds(x, y, width, height);
                }
                repaint();
            }

            @Override
            public void mouseReleased(MouseEvent e) {
                selection = null;
                repaint();
            }